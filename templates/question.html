{% extends 'base.html' %}
{% block content %}
    <div id="question-page">
        <h2>{{ question.title }}
        <button><a href="{{ url_for('edit_question', question_id=question_id )}}">Edit</a></button>
        <form action="{{ url_for('delete_question', question_id=question_id) }}" method="post">
            <button type="submit">Delete</button>
        </form>
        </h2>
        <p>{{ question.view_number }} views {{ question.vote_number }} votes
            <br><br>
            {{ question.message }}
            {% if question.image != None %}
            <img src="{{'/static/' + question.image }}" alt="question_image">
            {% endif %}
            <br><br>
            <small>Posted on: {{ question.submission_time }}</small>
            <br>
        </p>
        <h3>Answers:</h3>
        {% for answer in answers %}

        <div>
            {{ answer.message }}
            <br>
            {% if answer.image != None %}
            <img src="{{'/' + answer.image }}" alt="answer-image"/>
            {% endif %}
            <form action="{{ url_for('delete_answer', answer_id=answer.id) }}" method="post">
                <button type="submit">Delete</button>
            </form>


            <form action="{{ url_for('answer_vote_up', answer_id=answer.id) }}" method="post">
                <button type="submit">Vote up</button>
            </form>
            <form action="{{ url_for('answer_vote_down', answer_id=answer.id) }}" method="post">
                <button type="submit">Vote down</button>
            </form>


            {{ answer.vote_number }} votes
            <br>
            <small>Posted on: {{ answer.submission_time }}</small>
            <br><br>
        {#todo w przypadku edycji dodac edited on + posted on#}
        </div>

        {% endfor %}

        <button><a href="{{ url_for('new_answer', question_id=question_id )}}">Answer</a></button>
        <button><a href="{{ url_for('route_list') }}">Go back</a></button>
    </div>
    {% endblock %}
